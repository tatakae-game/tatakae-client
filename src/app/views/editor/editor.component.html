<app-user-control>
  <!-- <app-header></app-header> -->

  <nz-space nzDirection="vertical" style="width: 100%;">
    <nz-space-item>
      <nz-radio-group [(ngModel)]="language" nzButtonStyle="solid" (ngModelChange)="getCode()">
        <label nz-radio-button nzValue="js">JavaScript</label>
        <label nz-radio-button nzValue="san">SAN</label>
      </nz-radio-group>
    </nz-space-item>
    <nz-space-item>
      <div nz-row>
        <div nz-row nzFlex="1" style="flex: 1;">
          <ul class="files-container" style="flex: 100%;">
            <li *ngFor="let file of files; let i = index;" (click)="switchCode(file)" (dblclick)="file.changeText=true"
              (keyup.enter)="file.changeText=false" (keyup.escape)="file.changeText=false" class="file-class"
              [class]="this.displayed === file ? 'active' : ''">
              <input *ngIf="file.changeText===true" type="text" value="{{file.name}}" (keyup)="renameFile(file, $event)"
                focus="true">
              <button [class]="['default-style', (file.is_entrypoint? 'entrypoint' : 'file')].join(' ')"
                *ngIf="file.changeText===false" (keyup)="renameFile(file, $event)">{{file.name}}</button>
            </li>

            <li (click)="addFile()" class="file-class">
              <button class="default-style">+</button>
            </li>
          </ul>
          <ngx-monaco-editor class="monaco-editor" (keyup)="storeInCache()" [options]="editorOptions"
            [(ngModel)]="code">
          </ngx-monaco-editor>
        </div>
        <div nz-row nzFlex="512px">
          <div>
            <app-game></app-game>
            <div>
              <button nz-button nzType="primary" (click)="testCode()">Test code</button>
              <button nz-button nzType="primary" (click)="saveCode()">Save</button>
              <button nz-button nzType="primary" (click)="setEntrypoint()">Set file as entrypoint</button>
              <button nz-button nzType="primary" (click)="deleteFile()">Delete File</button>
            </div>
          </div>
        </div>
      </div>
    </nz-space-item>
  </nz-space>
  <!-- <div class="file-class">
      <button (click)="getCode('js')">JavaScript</button>
      <button (click)="getCode('san')">SAN</button>
    </div> -->

  <!-- <main class="editor">
    <div class="monaco-container">
      

      <br>

      <div #editor style="height: inherit;">
        <ngx-monaco-editor class="monaco-editor" width="100%" (keyup)="storeInCache()" [options]="editorOptions"
          [(ngModel)]="code">
        </ngx-monaco-editor>
      </div>
    </div>

    <div>
      <app-game></app-game>
      <div class="action-container">
        <button nz-button nzType="primary" (click)="testCode()">Test code</button>
        <button nz-button nzType="primary" (click)="saveCode()">Save</button>
        <button nz-button nzType="primary" (click)="setEntrypoint()">Set file as entrypoint</button>
        <button nz-button nzType="primary" (click)="deleteFile()">Delete File</button>
      </div>
    </div>
  </main> -->
</app-user-control>